<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Replace with Reg Exp</title>
    </head>
    <body>
        <script type="text/javascript">
            var stock="1 lemon, 2 cabbages, and 101 eggs"
            function minusOne(match, amount, unit) {
                amount = Number(amount)-1;
                if (amount==1) {
                    unit = unit.slice(0, unit.length-1);
                }
                else if (amount==0) {
                    amount="no";
                }
                return amount + " " + unit;
            }
            console.log(stock.replace(/(\d+) (\w)/g, minusOne));
        </script>
    </body>
</html>
